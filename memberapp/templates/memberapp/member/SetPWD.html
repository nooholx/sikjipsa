{% include 'etcapp/include/nav.html' %}


<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" 
          content="width=device-width, initial-scale=1">

	<title>::: 비밀번호 재설정 :::</title>

    <!-- css 외부파일 또는 CDN 불러들이기 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" 
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" 
          crossorigin="anonymous">
    
          
    <!-- jQuery 외부파일 또는 CDN 불러들이기 -->
    <script type="text/javascript"
            src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

        <script type="text/javascript">
          function goSave(){
              var fm = document.getElementById("fm");
  
              if (fm.new_pwd.value ==""){
                  alert("새 비밀번호를 입력해주세요")
                  fm.mem_id.focus();
                  return;
              }
              if (fm.re_pwd.value ==""){
                  alert("변경할 비밀번호를 다시 입력해주세요")
                  fm.mem_pass.focus();
                  return;
              }
              fm.action = "/member/modify/";
              fm.submit();
          }

          function goBack(){
            location.href = "/member/mypage";
          }
        </script>

</head>
<body>
    
    <div class ="container"; style="margin-top: 20px">  
      <p class="h1" style="text-align: center;">비밀번호 재설정</p>
      <p class="h5" style="text-align: center;">새 비밀번호를 입력하세요.</p>

      {% if request.session.ses_mem_id != None %}  
      <form id = "fm" name = "fm" method = "post" action="#">
        {% csrf_token %}
        <div class="form-group">
          <label for="validationPWD" class="form-label">새 비밀번호 입력</label>
          <input type="password" class="form-control" id="new_pwd" name="new_pwd" required="">
        </div>
        <div class="form-group">
          <label for="validationPWD_check" class="form-label">비밀번호(확인)</label>
          <input type="password" class="form-control" id="re_pwd" name="re_pwd" required="">
        </div>
        <br/>
        <div style="display: flex; justify-content: center; margin : 15px">
          <button type="submit"; class="btn btn-success"; onclick="goSave()" >비밀번호 저장</button>
          <button type="button"; class="btn btn-success"; onclick="goBack()" style="margin-left:10px;" >뒤로가기</button>
        </div>
      </form>
    </div>

      {% else %}
        <script type="text/javascript">
          msg = "잘못된 접근입니다.";
          alert(msg);
          location.href = '/etc/index/';
        </script>
        
      {% endif %}
  
      {% include 'etcapp/include/bottom.html' %}
    
    <!-- 부트스트랩 js 적용 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" 
            integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" 
            crossorigin="anonymous"></script>
        
</body>
</html>